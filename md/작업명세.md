# 작업 명세: 미지원 코드 보이싱 추가 구현 (Sus, Dim, Aug, 6)

## 1. 개요
현재 `GeneratorView` (코드 분석 탭) 및 `VoicingGenerator` 유틸리티에서 `sus`, `aug`, `dim`, `6` 등 주요 코드 퀄리티에 대한 전용 보이싱 패턴이 구현되지 않아, 잘못된 코드(Major/Minor 등)로 대체되는 문제를 해결합니다.

## 2. 목표
다음 코드 퀄리티에 대한 **CAGED 시스템 기반 기타 보이싱 패턴**을 `VoicingGenerator.dart`에 추가 구현합니다.
1.  **Sus4 / Sus2** (`Csus4`, `Csus2`, `C7sus4`)
2.  **Diminished** (`Cdim` - Triad, `Cdim7` - Full Diminished)
3.  **Augmented** (`Caug`, `C+`, `C7aug`)
4.  **6th Chord** (`C6`, `Cm6`)

## 3. 제약 사항
*   **물리적 제약 (기타)**: 기타는 6줄 악기이므로 텐션이나 복잡한 구성음은 생략될 수 있습니다. (Root, 3rd(or sus), 5th, 7th 우선)
*   **CAGED 시스템 유지**: 기존 `generateCAGEDVoicings` 함수의 구조(E, G, A, C, D 폼)를 유지하며 패턴을 확장합니다.
*   **패턴 단순화**: 모든 인버전이나 변형을 다루지 않고, 가장 널리 쓰이는 '표준 폼' 위주로 데이터를 정의합니다.
*   **기존 로직 호환**: 기존 `Maj7`, `m7` 등의 로직에 영향을 주지 않도록 분기(`if-else`)를 명확히 처리합니다.

## 4. 작업 상세

### 4.1. `ChordUtils.dart` 업데이트 (사전 준비)
*   `parseChordQuality` 함수 검토: `sus`, `aug`, `dim` 등의 인터벌 파싱이 이미 존재하지만, `VoicingGenerator`에서 이를 식별하기 위한 플래그(예: `isSus`, `isAug`, `isDim`) 추출 로직이 필요할 수 있습니다.

### 4.2. `VoicingGenerator.dart` 패턴 정의

각 CAGED 폼(E, A, D, G, C) 별로 아래 퀄리티에 대한 `Tuning Offset` 패턴을 추가합니다.

#### A. Suspended (Sus4)
*   3도(`3` or `b3`) 대신 완전4도(`4`)를 사용하는 패턴.
*   **E Form (Root 6)**: `R 5 R 4 5 R` (0 2 2 3 0 0) 또는 `R 4 5`
*   **A Form (Root 5)**: `R 5 R 4 5` (x 0 2 2 3 0)

#### B. Diminished (dim7)
*   `1, b3, b5, bb7` 구성.
*   `m7b5`와 유사하나 7도음이 반음 더 내려감(`bb7`).
*   **E Form (Root 6)**: `R b5 bb7 b3` (0 x 1 2 1 x) - *예시 패턴*
*   **A Form (Root 5)**: `R b5 bb7 b3` (x 0 1 2 1 x)

#### C. Augmented (aug)
*   `1, 3, #5` 구성.
*   **E Form**: `R 3 #5 R` (0 3 2 1 x x)
*   **A Form**: `R 3 #5` (x 0 2 2 2 x) - *오픈 E폼 변형 필요*

#### D. 6th Chords (6, m6)
*   7도 대신 6도(`6` or `13`) 사용.
*   **E Form**: `R 5 R 3 6` (0 x 2 1 2 0)
*   **A Form**: `R 5 R 3 6` (x 0 2 2 2 2)

### 4.3. 구현 로직 (`generateCAGEDVoicings`)
기존 `if (isMinor) ... else ...` 구조를 확장하여 더 세분화된 분기를 적용합니다.

```dart
// 예시 의사 코드
if (isDiminished) {
  // dim7 패턴 적용
} else if (isAugmented) {
  // aug 패턴 적용
} else if (isSus) {
  // sus4 패턴 적용
} else if (isMinor) {
   // 기존 m7, m7b5 로직
} else {
   // 기존 Maj7, 7, 6 로직
}
```

## 5. 검증 계획
*   `Cdim7`, `Csus4`, `Caug`, `C6` 입력 시:
    1.  구성음(Notes) 분석이 정확한지 확인.
    2.  프렛보드에 찍히는 운지가 해당 코드의 구성음과 일치하는지 확인.
    3.  오류 없이 5가지 CAGED 폼(또는 가능한 폼)이 리스트에 뜨는지 확인.

## 6. 예상 소요 시간
*   패턴 정의 및 데이터 입력: 약 30분
*   로직 구현 및 테스트: 약 30분
