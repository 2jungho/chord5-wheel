# Guitar & Theory Explorer: 최적화 제안 구현 작업 절차

본 문서는 `최적_제안.md`에 기술된 내용을 바탕으로 수립된 구체적인 구현 로드맵입니다.

---

## 📅 Phase 1: 아키텍처 및 성능 최적화 (기반 다지기)
UI 개편 전, 대규모 데이터 처리와 빠른 로딩을 위해 내부 구조를 개선합니다.

### 1-1. 상태 관리 최적화 (Provider Refactoring)
- **목표**: 타임라인 렌더링 성능 가속 및 불필요한 리빌드 방지.
- **작업 내용**:
  - `ChordWheelProvider` 및 주요 Provider 분석.
  - `context.watch` 남용 지점 식별 및 `Selector` 위젯으로 전환.
  - 타임라인 데이터 변경 시 전체 리빌드가 아닌 변경된 코드 블록만 리빌드되도록 `Derived State` 패턴 적용.
- **검증**: DevTools Performance 탭을 사용하여 리빌드 횟수 감소 확인.

### 1-2. 오디오 리소스 지연 로딩 (Smart Audio Loading)
- **목표**: 초기 앱 구동 속도 30% 이상 향상.
- **작업 내용**:
  - `AudioManager` 수정: 앱 시작 시 모든 악기(피아노, 기타 등)를 로딩하지 않음.
  - '현재 선택된 악기'의 샘플만 우선 로딩하고, 악기 변경 시점에 비동기로 리소스 로드.
  - 로딩 중일 때 사용자에게 피드백(스피너 등) 제공 UI 추가.

---

## 🎨 Phase 2: UI/UX 구조 개편 (반응형 & 제로 스크롤)
다양한 디바이스 대응 및 화면 공간 효율성을 극대화합니다.

### 2-1. 반응형 레이아웃 (Adaptive Grid) 도입
- **목표**: 데스크톱(Wide)과 모바일/태블릿(Narrow) 뷰 완벽 지원.
- **작업 내용**:
  - `LayoutBuilder`를 활용하여 화면 너비 기준점(Breakpoint) 설정 (예: 800px).
  - **Wide View**: 기존 좌우 분할 유지 (좌: 휠/컨트롤, 우: 프렛보드/타임라인).
  - **Narrow View**: 상하 스크롤 구조로 전환 (상: 휠, 중: 프렛보드, 하: 타임라인).

### 2-2. 설정 패널 Drawer 전환 (Collapsible UI)
- **목표**: 연주 화면의 복잡도 제거 및 집중도 향상.
- **작업 내용**:
  - 기존 화면 구석을 차지하던 설정(Settings) 패널들을 분석.
  - `Scaffold`의 `endDrawer` 또는 커스텀 사이드 패널 위젯으로 설정 UI 이관.
  - 필요한 순간에만 슬라이딩으로 열리고 닫히도록 애니메이션 적용.

---

## ✨ Phase 3: 시각적 경험 및 인터랙션 고도화 (Premium Feel)
앱의 심미적 완성도를 높이고 사용하는 즐거움을 제공합니다.

### 3-1. Glassmorphism & Dark Theme
- **목표**: 현대적이고 깊이감 있는 UI 디자인.
- **작업 내용**:
  - 주요 컨테이너(휠 배경, 패널 등)에 `BackdropFilter` 및 반투명 색상 적용.
  - 테마 색상 팔레트 재정의 (네온 액센트 + 딥 다크 배경).

### 3-2. 마이크로 인터랙션 (Micro-interactions)
- **목표**: 조작감 향상.
- **작업 내용**:
  - **5도권 휠**: 스크롤 관성(Inertia) 물리 효과 적용으로 실제 휠을 돌리는 듯한 느낌 구현.
  - **코드 블록**: 드래그 시작/종료 시 스케일링(Scale) 및 그림자 효과 추가.

---

## 🤖 Phase 4: AI 워크플로우 통합 (Interactive Tutor)
AI가 단순 챗봇을 넘어 앱의 '조종사' 역할을 수행하도록 합니다.

### 4-1. AI 제어 인터페이스 구축
- **목표**: 텍스트 명령으로 앱 상태 변경.
- **작업 내용**:
  - Gemini 응답 구조에 `Function Calling` 또는 JSON 포맷 적용.
  - AI가 반환한 데이터(예: `{"action": "setKey", "key": "Cm"}`)를 앱의 `Provider` 메소드와 매핑하는 `AICommandService` 구현.

### 4-2. 시나리오 테스트
- **검증**: "C단조로 키 바꿔줘" 입력 시 휠이 자동으로 회전하고 키가 변경되는지 확인.

---

## ✅ 작업 순서 제안
1. **Phase 1** (성능) 선행: UI가 복잡해지기 전에 성능 병목 해결.
2. **Phase 2** (구조): 레이아웃이 변경되므로 디자인 작업 전 수행.
3. **Phase 3** (디자인): 확정된 레이아웃 위에 디자인 입히기.
4. **Phase 4** (AI): 안정된 앱 위에 지능형 기능 탑재.
